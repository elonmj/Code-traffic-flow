# Scenario Configuration: Simple Junction Test

scenario_name: junction_test

# Network Topology Definition
network:
  nodes:
    - name: C # Central junction
      x: 0
      y: 0
      type: junction
    - name: N # North boundary
      x: 0
      y: 500
      type: boundary
    - name: S # South boundary
      x: 0
      y: -500
      type: boundary
    - name: E # East boundary
      x: 500
      y: 0
      type: boundary
    - name: W # West boundary
      x: -500
      y: 0
      type: boundary

  links:
    # Ingoing links
    - name: S_to_C
      start_node: S
      end_node: C
      num_lanes: 2
    - name: N_to_C
      start_node: N
      end_node: C
      num_lanes: 2
    - name: W_to_C
      start_node: W
      end_node: C
      num_lanes: 2
    - name: E_to_C
      start_node: E
      end_node: C
      num_lanes: 2
    
    # Outgoing links
    - name: C_to_N
      start_node: C
      end_node: N
      num_lanes: 2
    - name: C_to_S
      start_node: C
      end_node: S
      num_lanes: 2
    - name: C_to_E
      start_node: C
      end_node: E
      num_lanes: 2
    - name: C_to_W
      start_node: C
      end_node: W
      num_lanes: 2

# Simulation Time Parameters
t_final: 60.0   # 60 seconds simulation
output_dt: 1.0 # Output every second

# Initial Conditions for the network
initial_conditions:
  type: uniform_network
  # Uniform density and velocity for all links
  state:
    rho_m: 10.0e-3  # 10 veh/km
    rho_c: 5.0e-3   # 5 veh/km
    v_m: 15.0       # 54 km/h
    v_c: 15.0

# Boundary Conditions for the network
boundary_conditions:
  # Default for all boundary nodes unless specified
  default:
    type: open # Reflective/zero-gradient boundary
  
# Traffic Light Controller at the central junction
traffic_lights:
  - node: C
    type: fixed_cycle
    cycle_duration: 60 # 60-second cycle
    phases:
      - duration: 25 # North-South green
        green_links: [N_to_C, S_to_C]
      - duration: 5  # All red
        green_links: []
      - duration: 25 # East-West green
        green_links: [E_to_C, W_to_C]
      - duration: 5  # All red
        green_links: []

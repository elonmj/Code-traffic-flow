2025-10-04 07:20:35,771 - INFO - Repository: https://github.com/elonmj/Code-traffic-flow.git
2025-10-04 07:20:35,772 - INFO - Branch: main
2025-10-04 07:20:42,696 - INFO - Python: 3.11.13 (main, Jun  4 2025, 08:57:29) [GCC 11.4.0]
2025-10-04 07:20:42,696 - INFO - PyTorch: 2.6.0+cu124
2025-10-04 07:20:42,742 - INFO - CUDA available: True
2025-10-04 07:20:42,763 - INFO - CUDA device: Tesla P100-PCIE-16GB
2025-10-04 07:20:42,763 - INFO - CUDA version: 12.4
2025-10-04 07:20:42,763 - INFO - 
[STEP 1/4] Cloning repository from GitHub...
2025-10-04 07:20:42,763 - INFO - Command: git clone --single-branch --branch main --depth 1 https://github.com/elonmj/Code-traffic-flow.git /kaggle/working/Code-traffic-flow
2025-10-04 07:20:43,985 - INFO - [OK] Repository cloned successfully
2025-10-04 07:20:43,985 - INFO - TRACKING_SUCCESS: Repository cloned
2025-10-04 07:20:43,985 - INFO - 
[STEP 2/4] Installing dependencies...
2025-10-04 07:20:43,985 - INFO - Installing PyYAML...
2025-10-04 07:20:48,161 - INFO - Installing matplotlib...
2025-10-04 07:20:51,033 - INFO - Installing pandas...
2025-10-04 07:20:53,899 - INFO - Installing scipy...
2025-10-04 07:20:56,876 - INFO - Installing numpy...
2025-10-04 07:20:59,760 - INFO - [OK] Dependencies installed
2025-10-04 07:20:59,760 - INFO - TRACKING_SUCCESS: Dependencies ready
2025-10-04 07:20:59,760 - INFO - 
[STEP 3/4] Running validation tests...
2025-10-04 07:20:59,761 - INFO - Executing Python module: validation_ch7.scripts.test_section_7_4_calibration...
2025-10-04 07:20:59,761 - INFO - PYTHONPATH=/kaggle/working/Code-traffic-flow:/kaggle/working/Code-traffic-flow/arz_model:/kaggle/working/Code-traffic-flow/validation_ch7/scripts
2025-10-04 07:20:59,761 - INFO - ============================================================
2025-10-04 07:21:13,457 - INFO - [TEST] 
2025-10-04 07:21:13,457 - INFO - [TEST] ================================================================================
2025-10-04 07:21:13,458 - INFO - [TEST] TEST SECTION 7.4: CALIBRATION VICTORIA ISLAND
2025-10-04 07:21:13,458 - INFO - [TEST] ================================================================================
2025-10-04 07:21:13,458 - INFO - [TEST] [ARCHITECTURE] Structure crÃ©Ã©e: validation_output/results/local_test/section_7_4_calibration
2025-10-04 07:21:13,458 - INFO - [TEST]   - Figures:   validation_output/results/local_test/section_7_4_calibration/figures
2025-10-04 07:21:13,458 - INFO - [TEST]   - NPZ:       validation_output/results/local_test/section_7_4_calibration/data/npz
2025-10-04 07:21:13,458 - INFO - [TEST]   - Scenarios: validation_output/results/local_test/section_7_4_calibration/data/scenarios
2025-10-04 07:21:13,458 - INFO - [TEST]   - Metrics:   validation_output/results/local_test/section_7_4_calibration/data/metrics
2025-10-04 07:21:13,458 - INFO - [TEST]   - LaTeX:     validation_output/results/local_test/section_7_4_calibration/latex
2025-10-04 07:21:13,458 - INFO - [TEST] 
2025-10-04 07:21:13,458 - INFO - [TEST] [REAL DATA] Initializing real data loader...
2025-10-04 07:21:13,459 - INFO - [TEST]    CSV: /kaggle/working/Code-traffic-flow/donnees_trafic_75_segments.csv
2025-10-04 07:21:13,459 - INFO - [TEST]    Network: /kaggle/working/Code-traffic-flow/arz_model/calibration/data/groups/victoria_island_corridor.json
2025-10-04 07:21:13,459 - INFO - [TEST] 
2025-10-04 07:21:13,459 - INFO - [TEST] [DATA QUALITY] Real data loaded successfully:
2025-10-04 07:21:13,459 - INFO - [TEST]    Total records: 4,243
2025-10-04 07:21:13,459 - INFO - [TEST]    Segments: 70
2025-10-04 07:21:13,459 - INFO - [TEST]    Coverage: 100.0%
2025-10-04 07:21:13,459 - INFO - [TEST]    Mean speed: 32.3 km/h
2025-10-04 07:21:13,459 - INFO - [TEST]    Time range: 5.2 hours
2025-10-04 07:21:13,459 - INFO - [TEST] [DEVICE] GPU dÃ©tectÃ©: Tesla P100-PCIE-16GB
2025-10-04 07:21:13,459 - INFO - [TEST] 
2025-10-04 07:21:13,459 - INFO - [TEST] [TEST R2] Calibration avec donnÃ©es Victoria Island...
2025-10-04 07:21:13,459 - INFO - [TEST] [NETWORK] Loaded 70 real network segments
2025-10-04 07:21:13,460 - INFO - [TEST] 
2025-10-04 07:21:13,460 - INFO - [TEST] [SPEED DATA] Loading real speed data from CSV...
2025-10-04 07:21:13,460 - INFO - [TEST] [SPEED DATA] Loaded 1538 aggregated observations
2025-10-04 07:21:13,460 - INFO - [TEST]    Time range: 2025-09-24 10:30:00 to 2025-09-24 15:45:00
2025-10-04 07:21:13,460 - INFO - [TEST]    Mean observed speed: 32.3 km/h
2025-10-04 07:21:13,460 - INFO - [TEST]    Std observed speed: 9.2 km/h
2025-10-04 07:21:13,460 - INFO - [TEST] Lancement calibration Victoria Island...
2025-10-04 07:21:13,460 - INFO - [TEST] DEBUG PARAMS: Reading K_m_kmh = 10.0
2025-10-04 07:21:13,460 - INFO - [TEST] DEBUG PARAMS: Reading K_c_kmh = 15.0
2025-10-04 07:21:13,460 - INFO - [TEST] DEBUG PARAMS: Assigned self.K_m = 2.7777777777777777
2025-10-04 07:21:13,460 - INFO - [TEST] DEBUG PARAMS: Assigned self.K_c = 4.166666666666667
2025-10-04 07:21:13,460 - INFO - [TEST] [!] CORRECTION CFL AUTOMATIQUE (#1):
2025-10-04 07:21:13,461 - INFO - [TEST]    CFL calculÃ©: 0.800 > limite 0.500
2025-10-04 07:21:13,461 - INFO - [TEST]    dt original: 3.210611e-01 s
2025-10-04 07:21:13,461 - INFO - [TEST]    dt corrigÃ©:  2.006632e-01 s
2025-10-04 07:21:13,461 - INFO - [TEST]    Facteur correction: 1.6x
2025-10-04 07:21:13,461 - INFO - [TEST]    v_max dÃ©tectÃ©e: 24.92 m/s
2025-10-04 07:21:13,461 - INFO - [TEST] Error in real simulation: list indices must be integers or slices, not str
2025-10-04 07:21:13,461 - INFO - [TEST] Statut R2: FAILED
2025-10-04 07:21:13,461 - INFO - [TEST] 
2025-10-04 07:21:13,461 - INFO - [TEST] [TEST] Validation croisÃ©e robustesse...
2025-10-04 07:21:13,461 - INFO - [TEST] [NETWORK] Loaded 70 real network segments
2025-10-04 07:21:13,461 - INFO - [TEST] 
2025-10-04 07:21:13,461 - INFO - [TEST] [SPEED DATA] Loading real speed data from CSV...
2025-10-04 07:21:13,461 - INFO - [TEST] [SPEED DATA] Loaded 1538 aggregated observations
2025-10-04 07:21:13,461 - INFO - [TEST]    Time range: 2025-09-24 10:30:00 to 2025-09-24 15:45:00
2025-10-04 07:21:13,462 - INFO - [TEST]    Mean observed speed: 32.3 km/h
2025-10-04 07:21:13,462 - INFO - [TEST]    Std observed speed: 9.2 km/h
2025-10-04 07:21:13,462 - INFO - [TEST] Lancement calibration Victoria Island...
2025-10-04 07:21:13,462 - INFO - [TEST] DEBUG PARAMS: Reading K_m_kmh = 10.0
2025-10-04 07:21:13,462 - INFO - [TEST] DEBUG PARAMS: Reading K_c_kmh = 15.0
2025-10-04 07:21:13,462 - INFO - [TEST] DEBUG PARAMS: Assigned self.K_m = 2.7777777777777777
2025-10-04 07:21:13,462 - INFO - [TEST] DEBUG PARAMS: Assigned self.K_c = 4.166666666666667
2025-10-04 07:21:13,462 - INFO - [TEST] Error in real simulation: list indices must be integers or slices, not str
2025-10-04 07:21:13,462 - INFO - [TEST] Lancement calibration Victoria Island...
2025-10-04 07:21:13,462 - INFO - [TEST] DEBUG PARAMS: Reading K_m_kmh = 10.0
2025-10-04 07:21:13,462 - INFO - [TEST] DEBUG PARAMS: Reading K_c_kmh = 15.0
2025-10-04 07:21:13,462 - INFO - [TEST] DEBUG PARAMS: Assigned self.K_m = 2.7777777777777777
2025-10-04 07:21:13,462 - INFO - [TEST] DEBUG PARAMS: Assigned self.K_c = 4.166666666666667
2025-10-04 07:21:13,462 - INFO - [TEST] Error in real simulation: list indices must be integers or slices, not str
2025-10-04 07:21:13,462 - INFO - [TEST] Lancement calibration Victoria Island...
2025-10-04 07:21:13,463 - INFO - [TEST] DEBUG PARAMS: Reading K_m_kmh = 10.0
2025-10-04 07:21:13,463 - INFO - [TEST] DEBUG PARAMS: Reading K_c_kmh = 15.0
2025-10-04 07:21:13,463 - INFO - [TEST] DEBUG PARAMS: Assigned self.K_m = 2.7777777777777777
2025-10-04 07:21:13,463 - INFO - [TEST] DEBUG PARAMS: Assigned self.K_c = 4.166666666666667
2025-10-04 07:21:13,463 - INFO - [TEST] Error in real simulation: list indices must be integers or slices, not str
2025-10-04 07:21:13,463 - INFO - [TEST] Statut Cross-validation: FAILED
2025-10-04 07:21:13,463 - INFO - [TEST] 
2025-10-04 07:21:13,463 - INFO - [TEST] [LATEX] GÃ©nÃ©ration contenu section 7.4...
2025-10-04 07:21:13,463 - INFO - [TEST] 
2025-10-04 07:21:13,463 - INFO - [TEST] [ECHEC] VALIDATION R2 : ECHOUEE
2025-10-04 07:21:13,463 - WARNING - [STDERR] 2025-10-04 07:21:07,561 - RealDataLoader - INFO - Loading real data from: /kaggle/working/Code-traffic-flow/donnees_trafic_75_segments.csv
2025-10-04 07:21:13,463 - WARNING - [STDERR] 2025-10-04 07:21:07,609 - RealDataLoader - INFO - Data quality filter: 4243/4270 records with confidence >= 0.8
2025-10-04 07:21:13,463 - WARNING - [STDERR] 2025-10-04 07:21:07,610 - RealDataLoader - INFO - âœ… Loaded 4243 validated real data records
2025-10-04 07:21:13,463 - WARNING - [STDERR] 2025-10-04 07:21:07,610 - RealDataLoader - INFO - Loading network config from: /kaggle/working/Code-traffic-flow/arz_model/calibration/data/groups/victoria_island_corridor.json
2025-10-04 07:21:13,464 - WARNING - [STDERR] 2025-10-04 07:21:07,610 - RealDataLoader - INFO - âœ… Loaded network: Victoria Island Corridor (70 segments)
2025-10-04 07:21:13,464 - WARNING - [STDERR] 2025-10-04 07:21:07,610 - RealDataLoader - INFO - âœ… Real data loader initialized successfully
2025-10-04 07:21:13,464 - WARNING - [STDERR] 2025-10-04 07:21:07,610 - RealDataLoader - INFO -    CSV records: 4243
2025-10-04 07:21:13,464 - WARNING - [STDERR] 2025-10-04 07:21:07,610 - RealDataLoader - INFO -    Network segments: 70
2025-10-04 07:21:13,464 - WARNING - [STDERR] 2025-10-04 07:21:09,348 - RealDataLoader - INFO - âœ… Calibration dataset prepared: 1538 aggregated observations (15min intervals)
2025-10-04 07:21:13,464 - WARNING - [STDERR] /usr/local/lib/python3.11/dist-packages/numba_cuda/numba/cuda/dispatcher.py:579: NumbaPerformanceWarning: [1mGrid size 1 will likely result in GPU under-utilization due to low occupancy.[0m
2025-10-04 07:21:13,464 - WARNING - [STDERR]   warn(NumbaPerformanceWarning(msg))
2025-10-04 07:21:13,464 - WARNING - [STDERR] /usr/local/lib/python3.11/dist-packages/numba_cuda/numba/cuda/dispatcher.py:579: NumbaPerformanceWarning: [1mGrid size 1 will likely result in GPU under-utilization due to low occupancy.[0m
2025-10-04 07:21:13,464 - WARNING - [STDERR]   warn(NumbaPerformanceWarning(msg))
2025-10-04 07:21:13,464 - WARNING - [STDERR] /usr/local/lib/python3.11/dist-packages/numba_cuda/numba/cuda/dispatcher.py:579: NumbaPerformanceWarning: [1mGrid size 1 will likely result in GPU under-utilization due to low occupancy.[0m
2025-10-04 07:21:13,464 - WARNING - [STDERR]   warn(NumbaPerformanceWarning(msg))
2025-10-04 07:21:13,465 - WARNING - [STDERR] /usr/local/lib/python3.11/dist-packages/numba_cuda/numba/cuda/dispatcher.py:579: NumbaPerformanceWarning: [1mGrid size 1 will likely result in GPU under-utilization due to low occupancy.[0m
2025-10-04 07:21:13,465 - WARNING - [STDERR]   warn(NumbaPerformanceWarning(msg))
2025-10-04 07:21:13,465 - WARNING - [STDERR] /usr/local/lib/python3.11/dist-packages/numba_cuda/numba/cuda/dispatcher.py:579: NumbaPerformanceWarning: [1mGrid size 1 will likely result in GPU under-utilization due to low occupancy.[0m
2025-10-04 07:21:13,465 - WARNING - [STDERR]   warn(NumbaPerformanceWarning(msg))
2025-10-04 07:21:13,465 - WARNING - [STDERR] 2025-10-04 07:21:11,958 - RealDataLoader - INFO - âœ… Calibration dataset prepared: 1538 aggregated observations (15min intervals)
2025-10-04 07:21:13,465 - WARNING - [STDERR] /usr/local/lib/python3.11/dist-packages/numba_cuda/numba/cuda/dispatcher.py:579: NumbaPerformanceWarning: [1mGrid size 1 will likely result in GPU under-utilization due to low occupancy.[0m
2025-10-04 07:21:13,465 - WARNING - [STDERR]   warn(NumbaPerformanceWarning(msg))
2025-10-04 07:21:13,465 - WARNING - [WARNING] Tests returned code: 1
2025-10-04 07:21:13,465 - INFO - 
[STEP 4/4] Copying artifacts and cleaning up...
2025-10-04 07:21:13,465 - INFO - [ARTIFACTS] Copying results for section_7_4_calibration...
2025-10-04 07:21:13,466 - INFO - [OK] Section copied to: /kaggle/working/section_7_4_calibration
2025-10-04 07:21:13,467 - INFO - [ARTIFACTS] NPZ files: 0
2025-10-04 07:21:13,467 - INFO - [ARTIFACTS] PNG figures: 0
2025-10-04 07:21:13,467 - INFO - [ARTIFACTS] YAML scenarios: 0
2025-10-04 07:21:13,467 - INFO - [ARTIFACTS] TEX files: 0
2025-10-04 07:21:13,467 - INFO - [ARTIFACTS] JSON files: 0
2025-10-04 07:21:13,467 - INFO - [ARTIFACTS] CSV metrics: 0
2025-10-04 07:21:13,468 - INFO - TRACKING_SUCCESS: Artifacts copied
2025-10-04 07:21:13,468 - INFO - [SUCCESS] All artifacts organized and copied
2025-10-04 07:21:13,468 - INFO - [CLEANUP] Removing cloned repository: /kaggle/working/Code-traffic-flow
2025-10-04 07:21:13,487 - INFO - [OK] Cleanup completed - only validation results remain
2025-10-04 07:21:13,487 - INFO - TRACKING_SUCCESS: Cleanup completed
2025-10-04 07:21:13,487 - INFO - [OK] Session summary created: /kaggle/working/validation_results/session_summary.json
2025-10-04 07:21:13,487 - INFO - TRACKING_SUCCESS: Session summary created
2025-10-04 07:21:13,487 - INFO - 
[FINAL] Validation workflow completed
2025-10-04 07:21:13,488 - INFO - Remote logging finalized - ready for download

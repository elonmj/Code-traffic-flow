[{"stream_name":"stdout","time":0.817595483,"data":"================================================================================\n"}
,{"stream_name":"stdout","time":0.81765139,"data":"ARZ-RL VALIDATION: SECTION_7_6_RL_PERFORMANCE\n"}
,{"stream_name":"stdout","time":0.817657719,"data":"Revendications: R5\n"}
,{"stream_name":"stdout","time":0.817661514,"data":"================================================================================\n"}
,{"stream_name":"stdout","time":0.817665455,"data":"Repository: https://github.com/elonmj/Code-traffic-flow.git\n"}
,{"stream_name":"stdout","time":0.817814667,"data":"Branch: main\n"}
,{"stream_name":"stdout","time":7.25147413,"data":"Python: 3.11.13 (main, Jun  4 2025, 08:57:29) [GCC 11.4.0]\n"}
,{"stream_name":"stdout","time":7.251666718,"data":"PyTorch: 2.6.0+cu124\n"}
,{"stream_name":"stdout","time":7.29953298,"data":"CUDA available: True\n"}
,{"stream_name":"stdout","time":7.321140373,"data":"CUDA device: Tesla P100-PCIE-16GB\n"}
,{"stream_name":"stdout","time":7.321277269,"data":"CUDA version: 12.4\n"}
,{"stream_name":"stdout","time":7.321345752,"data":"\n"}
,{"stream_name":"stdout","time":7.321353076,"data":"[STEP 1/4] Cloning repository from GitHub...\n"}
,{"stream_name":"stdout","time":7.321509435,"data":"Command: git clone --single-branch --branch main --depth 1 https://github.com/elonmj/Code-traffic-flow.git /kaggle/working/Code-traffic-flow\n"}
,{"stream_name":"stdout","time":10.666204294,"data":"[OK] Repository cloned successfully\n"}
,{"stream_name":"stdout","time":10.66623764,"data":"TRACKING_SUCCESS: Repository cloned\n"}
,{"stream_name":"stdout","time":10.66625644,"data":"\n"}
,{"stream_name":"stdout","time":10.66626109,"data":"[STEP 2/4] Installing dependencies...\n"}
,{"stream_name":"stdout","time":10.666271928,"data":"Installing PyYAML...\n"}
,{"stream_name":"stdout","time":15.269173762,"data":"Installing matplotlib...\n"}
,{"stream_name":"stdout","time":18.37870201,"data":"Installing pandas...\n"}
,{"stream_name":"stdout","time":21.557136989,"data":"Installing scipy...\n"}
,{"stream_name":"stdout","time":24.664355508,"data":"Installing numpy...\n"}
,{"stream_name":"stdout","time":27.785238339,"data":"Installing gymnasium...\n"}
,{"stream_name":"stdout","time":30.927523592,"data":"Installing stable-baselines3...\n"}
,{"stream_name":"stdout","time":109.444353871,"data":"[OK] Dependencies installed\n"}
,{"stream_name":"stdout","time":109.4445292,"data":"TRACKING_SUCCESS: Dependencies ready\n"}
,{"stream_name":"stdout","time":109.444654447,"data":"\n"}
,{"stream_name":"stdout","time":109.444665854,"data":"[STEP 3/4] Running validation tests...\n"}
,{"stream_name":"stdout","time":109.445166886,"data":"[QUICK_TEST] Quick test mode enabled (100 timesteps for RL, reduced simulation time)\n"}
,{"stream_name":"stdout","time":109.44528152,"data":"Executing Python module: validation_ch7.scripts.test_section_7_6_rl_performance...\n"}
,{"stream_name":"stdout","time":109.445375548,"data":"PYTHONPATH=/kaggle/working/Code-traffic-flow:/kaggle/working/Code-traffic-flow/arz_model:/kaggle/working/Code-traffic-flow/validation_ch7/scripts\n"}
,{"stream_name":"stdout","time":109.445490501,"data":"============================================================\n"}
,{"stream_name":"stderr","time":123.780771126,"data":"2025-10-10 16:16:53.792978: E external/local_xla/xla/stream_executor/cuda/cuda_fft.cc:477] Unable to register cuFFT factory: Attempting to register factory for plugin cuFFT when one has already been registered\n"}
,{"stream_name":"stderr","time":124.02499368,"data":"WARNING: All log messages before absl::InitializeLog() is called are written to STDERR\n"}
,{"stream_name":"stderr","time":124.025045101,"data":"E0000 00:00:1760113014.037118      64 cuda_dnn.cc:8310] Unable to register cuDNN factory: Attempting to register factory for plugin cuDNN when one has already been registered\n"}
,{"stream_name":"stderr","time":124.093782429,"data":"E0000 00:00:1760113014.106078      64 cuda_blas.cc:1418] Unable to register cuBLAS factory: Attempting to register factory for plugin cuBLAS when one has already been registered\n"}
,{"stream_name":"stdout","time":138.585844901,"data":"================================================================================\n"}
,{"stream_name":"stdout","time":138.585884234,"data":"QUICK TEST MODE ENABLED\n"}
,{"stream_name":"stdout","time":138.585890674,"data":"- Training: 2 timesteps only\n"}
,{"stream_name":"stdout","time":138.585920214,"data":"- Duration: 2 minutes simulated time\n"}
,{"stream_name":"stdout","time":138.585927016,"data":"- Scenarios: 1 scenario only\n"}
,{"stream_name":"stdout","time":138.585932183,"data":"- Expected runtime: ~5 minutes on GPU\n"}
,{"stream_name":"stdout","time":138.585937101,"data":"================================================================================\n"}
,{"stream_name":"stdout","time":138.586164972,"data":"[ARCHITECTURE] Structure créée: validation_output/results/local_test/section_7_6_rl_performance\n"}
,{"stream_name":"stdout","time":138.586190997,"data":"  - Figures:   validation_output/results/local_test/section_7_6_rl_performance/figures\n"}
,{"stream_name":"stdout","time":138.586198282,"data":"  - NPZ:       validation_output/results/local_test/section_7_6_rl_performance/data/npz\n"}
,{"stream_name":"stdout","time":138.586203616,"data":"  - Scenarios: validation_output/results/local_test/section_7_6_rl_performance/data/scenarios\n"}
,{"stream_name":"stdout","time":138.586208714,"data":"  - Metrics:   validation_output/results/local_test/section_7_6_rl_performance/data/metrics\n"}
,{"stream_name":"stdout","time":138.586213781,"data":"  - LaTeX:     validation_output/results/local_test/section_7_6_rl_performance/latex\n"}
,{"stream_name":"stdout","time":138.586727342,"data":"2025-10-10 16:17:08 - INFO - _setup_debug_logging:119 - ================================================================================\n"}
,{"stream_name":"stdout","time":138.58685251,"data":"2025-10-10 16:17:08 - INFO - _setup_debug_logging:120 - DEBUG LOGGING INITIALIZED\n"}
,{"stream_name":"stdout","time":138.586970454,"data":"2025-10-10 16:17:08 - INFO - _setup_debug_logging:121 - Log file: validation_output/results/local_test/section_7_6_rl_performance/debug.log\n"}
,{"stream_name":"stdout","time":138.587116433,"data":"2025-10-10 16:17:08 - INFO - _setup_debug_logging:122 - Quick test mode: True\n"}
,{"stream_name":"stdout","time":138.587181281,"data":"2025-10-10 16:17:08 - INFO - _setup_debug_logging:123 - ================================================================================\n"}
,{"stream_name":"stdout","time":138.587195678,"data":"[QUICK TEST MODE] Minimal training timesteps for setup validation\n"}
,{"stream_name":"stdout","time":138.587207646,"data":"=== Section 7.6: RL Performance Validation ===\n"}
,{"stream_name":"stdout","time":138.587214121,"data":"Testing RL agent performance vs baseline controllers...\n"}
,{"stream_name":"stdout","time":138.747584452,"data":"[DEVICE] Detected: GPU\n"}
,{"stream_name":"stdout","time":138.84494575,"data":"[GPU INFO] Tesla P100-PCIE-16GB\n"}
,{"stream_name":"stdout","time":138.844976719,"data":"\n"}
,{"stream_name":"stdout","time":138.844982739,"data":"[PHASE 1/2] Training RL agents...\n"}
,{"stream_name":"stdout","time":138.844987907,"data":"[QUICK TEST] Training only: traffic_light_control\n"}
,{"stream_name":"stdout","time":138.844993542,"data":"[QUICK TEST MODE] Training reduced to 100 timesteps, 120.0s episodes\n"}
,{"stream_name":"stdout","time":138.845044843,"data":"2025-10-10 16:17:08 - INFO - train_rl_agent:564 - ================================================================================\n"}
,{"stream_name":"stdout","time":138.845183476,"data":"2025-10-10 16:17:08 - INFO - train_rl_agent:565 - Starting train_rl_agent for scenario: traffic_light_control\n"}
,{"stream_name":"stdout","time":138.845235195,"data":"2025-10-10 16:17:08 - INFO - train_rl_agent:566 -   - Device: gpu\n"}
,{"stream_name":"stdout","time":138.845373384,"data":"2025-10-10 16:17:08 - INFO - train_rl_agent:567 -   - Total timesteps: 100\n"}
,{"stream_name":"stdout","time":138.845420214,"data":"2025-10-10 16:17:08 - INFO - train_rl_agent:568 -   - Episode max time: 120.0s\n"}
,{"stream_name":"stdout","time":138.845504481,"data":"2025-10-10 16:17:08 - INFO - train_rl_agent:569 -   - Checkpoint frequency: 50\n"}
,{"stream_name":"stdout","time":138.845597071,"data":"2025-10-10 16:17:08 - INFO - train_rl_agent:570 - ================================================================================\n"}
,{"stream_name":"stdout","time":138.845617566,"data":"\n"}
,{"stream_name":"stdout","time":138.845622516,"data":"[TRAINING] Starting RL training for scenario: traffic_light_control\n"}
,{"stream_name":"stdout","time":138.845627053,"data":"  Device: gpu\n"}
,{"stream_name":"stdout","time":138.845635798,"data":"  Total timesteps: 100\n"}
,{"stream_name":"stdout","time":138.84564025,"data":"  Episode max time: 120.0s\n"}
,{"stream_name":"stdout","time":138.845643902,"data":"  Checkpoint frequency: 50 steps\n"}
,{"stream_name":"stdout","time":138.84776501,"data":"2025-10-10 16:17:08 - INFO - _create_scenario_config:205 - Created scenario config: traffic_light_control.yml\n"}
,{"stream_name":"stdout","time":138.847783336,"data":"2025-10-10 16:17:08 - INFO - _create_scenario_config:206 -   BUG #10 FIX: Domain=1km, UNIFORM congestion IC (no shock)\n"}
,{"stream_name":"stdout","time":138.847835645,"data":"2025-10-10 16:17:08 - INFO - _create_scenario_config:207 -   Uniform density: rho_m=80.0 veh/km, rho_c=100.0 veh/km\n"}
,{"stream_name":"stdout","time":138.847978929,"data":"2025-10-10 16:17:08 - INFO - _create_scenario_config:208 -   Uniform velocity: w_m=12.0 m/s, w_c=10.0 m/s\n"}
,{"stream_name":"stdout","time":138.847993352,"data":"  [SCENARIO] Generated: traffic_light_control.yml (1km domain, UNIFORM congestion IC)\n"}
,{"stream_name":"stdout","time":138.84858132,"data":"Initializing simulation from scenario: validation_output/results/local_test/section_7_6_rl_performance/data/scenarios/traffic_light_control.yml\n"}
,{"stream_name":"stdout","time":138.848594055,"data":"Using device: gpu\n"}
,{"stream_name":"stdout","time":138.856537092,"data":"DEBUG PARAMS: Reading K_m_kmh = 10.0\n"}
,{"stream_name":"stdout","time":138.856572571,"data":"DEBUG PARAMS: Reading K_c_kmh = 15.0\n"}
,{"stream_name":"stdout","time":138.856578109,"data":"DEBUG PARAMS: Assigned self.K_m = 2.7777777777777777\n"}
,{"stream_name":"stdout","time":138.856582113,"data":"DEBUG PARAMS: Assigned self.K_c = 4.166666666666667\n"}
,{"stream_name":"stdout","time":138.856586753,"data":"Parameters loaded for scenario: rl_perf_traffic_light_control_sensitive\n"}
,{"stream_name":"stdout","time":138.856590749,"data":"Grid initialized: Grid1D(N=100, xmin=0.0, xmax=1000.0, dx=10.0000, ghost=2, N_total=104, R loaded=No)\n"}
,{"stream_name":"stdout","time":138.856594938,"data":"  Loading road quality type: uniform\n"}
,{"stream_name":"stdout","time":138.85659955,"data":"  Uniform road quality value: 2\n"}
,{"stream_name":"stdout","time":138.856606334,"data":"Road quality loaded.\n"}
,{"stream_name":"stdout","time":138.858336573,"data":"2025-10-10 16:17:08 - ERROR - train_rl_agent:694 - Training failed for traffic_light_control: could not convert string to float: 'rho_m_veh_m'\n"}
,{"stream_name":"stdout","time":138.85835384,"data":"Traceback (most recent call last):\n"}
,{"stream_name":"stdout","time":138.858356699,"data":"  File \"/kaggle/working/Code-traffic-flow/validation_ch7/scripts/test_section_7_6_rl_performance.py\", line 589, in train_rl_agent\n"}
,{"stream_name":"stdout","time":138.858359595,"data":"    env = TrafficSignalEnvDirect(\n"}
,{"stream_name":"stdout","time":138.85836227,"data":"          ^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.858364961,"data":"  File \"/kaggle/working/Code-traffic-flow/Code_RL/src/env/traffic_signal_env_direct.py\", line 141, in __init__\n"}
,{"stream_name":"stdout","time":138.858367508,"data":"    self._initialize_simulator()\n"}
,{"stream_name":"stdout","time":138.858369938,"data":"  File \"/kaggle/working/Code-traffic-flow/Code_RL/src/env/traffic_signal_env_direct.py\", line 158, in _initialize_simulator\n"}
,{"stream_name":"stdout","time":138.85837249,"data":"    self.runner = SimulationRunner(\n"}
,{"stream_name":"stdout","time":138.858374943,"data":"                  ^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.858377326,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/runner.py\", line 97, in __init__\n"}
,{"stream_name":"stdout","time":138.858379876,"data":"    self.U = self._create_initial_state()\n"}
,{"stream_name":"stdout","time":138.858382265,"data":"             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.858385777,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/runner.py\", line 283, in _create_initial_state\n"}
,{"stream_name":"stdout","time":138.85838984,"data":"    U_init = initial_conditions.uniform_state(self.grid, *state_vals)\n"}
,{"stream_name":"stdout","time":138.858395175,"data":"             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.858398718,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/initial_conditions.py\", line 22, in uniform_state\n"}
,{"stream_name":"stdout","time":138.858402963,"data":"    U_initial[0, :] = rho_m_val\n"}
,{"stream_name":"stdout","time":138.858406908,"data":"    ~~~~~~~~~^^^^^^\n"}
,{"stream_name":"stdout","time":138.858410838,"data":"ValueError: could not convert string to float: 'rho_m_veh_m'\n"}
,{"stream_name":"stdout","time":138.858414825,"data":"[ERROR] Training failed for traffic_light_control: could not convert string to float: 'rho_m_veh_m'\n"}
,{"stream_name":"stderr","time":138.858823289,"data":"Traceback (most recent call last):\n"}
,{"stream_name":"stderr","time":138.859101602,"data":"  File \"/kaggle/working/Code-traffic-flow/validation_ch7/scripts/test_section_7_6_rl_performance.py\", line 589, in train_rl_agent\n"}
,{"stream_name":"stderr","time":138.859119007,"data":"    env = TrafficSignalEnvDirect(\n"}
,{"stream_name":"stderr","time":138.859124486,"data":"          ^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stderr","time":138.859129107,"data":"  File \"/kaggle/working/Code-traffic-flow/Code_RL/src/env/traffic_signal_env_direct.py\", line 141, in __init__\n"}
,{"stream_name":"stderr","time":138.859133237,"data":"    self._initialize_simulator()\n"}
,{"stream_name":"stderr","time":138.859137031,"data":"  File \"/kaggle/working/Code-traffic-flow/Code_RL/src/env/traffic_signal_env_direct.py\", line 158, in _initialize_simulator\n"}
,{"stream_name":"stderr","time":138.859141061,"data":"    self.runner = SimulationRunner(\n"}
,{"stream_name":"stderr","time":138.859159482,"data":"                  ^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stderr","time":138.859164338,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/runner.py\", line 97, in __init__\n"}
,{"stream_name":"stderr","time":138.859168647,"data":"    self.U = self._create_initial_state()\n"}
,{"stream_name":"stdout","time":138.859166214,"data":"\n"}
,{"stream_name":"stderr","time":138.859172185,"data":"             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.859182343,"data":"[PHASE 2/2] Running performance comparisons...\n"}
,{"stream_name":"stderr","time":138.859186733,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/runner.py\", line 283, in _create_initial_state\n"}
,{"stream_name":"stdout","time":138.859190946,"data":"[QUICK TEST] Testing only: traffic_light_control\n"}
,{"stream_name":"stderr","time":138.859194853,"data":"    U_init = initial_conditions.uniform_state(self.grid, *state_vals)\n"}
,{"stream_name":"stdout","time":138.85919867,"data":"\n"}
,{"stream_name":"stderr","time":138.859202114,"data":"             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.859206496,"data":"Testing scenario: traffic_light_control (device=gpu)\n"}
,{"stream_name":"stderr","time":138.859209182,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/initial_conditions.py\", line 22, in uniform_state\n"}
,{"stream_name":"stderr","time":138.859216543,"data":"    U_initial[0, :] = rho_m_val\n"}
,{"stream_name":"stderr","time":138.859220066,"data":"    ~~~~~~~~~^^^^^^\n"}
,{"stream_name":"stderr","time":138.859223528,"data":"ValueError: could not convert string to float: 'rho_m_veh_m'\n"}
,{"stream_name":"stdout","time":138.859343447,"data":"2025-10-10 16:17:08 - INFO - run_performance_comparison:702 - ================================================================================\n"}
,{"stream_name":"stdout","time":138.859514627,"data":"2025-10-10 16:17:08 - INFO - run_performance_comparison:703 - Starting run_performance_comparison for scenario: traffic_light_control\n"}
,{"stream_name":"stdout","time":138.859557696,"data":"2025-10-10 16:17:08 - INFO - run_performance_comparison:704 - Device: gpu\n"}
,{"stream_name":"stdout","time":138.859668329,"data":"2025-10-10 16:17:08 - INFO - run_performance_comparison:705 - ================================================================================\n"}
,{"stream_name":"stdout","time":138.859777878,"data":"2025-10-10 16:17:08 - INFO - run_performance_comparison:706 - ================================================================================\n"}
,{"stream_name":"stdout","time":138.859912049,"data":"2025-10-10 16:17:08 - INFO - run_performance_comparison:707 - Starting run_performance_comparison for scenario: traffic_light_control\n"}
,{"stream_name":"stdout","time":138.859979679,"data":"2025-10-10 16:17:08 - INFO - run_performance_comparison:708 - Device: gpu\n"}
,{"stream_name":"stdout","time":138.860085893,"data":"2025-10-10 16:17:08 - INFO - run_performance_comparison:709 - ================================================================================\n"}
,{"stream_name":"stdout","time":138.861785791,"data":"2025-10-10 16:17:08 - INFO - _create_scenario_config:205 - Created scenario config: traffic_light_control.yml\n"}
,{"stream_name":"stdout","time":138.8618133,"data":"2025-10-10 16:17:08 - INFO - _create_scenario_config:206 -   BUG #10 FIX: Domain=1km, UNIFORM congestion IC (no shock)\n"}
,{"stream_name":"stdout","time":138.861961208,"data":"2025-10-10 16:17:08 - INFO - _create_scenario_config:207 -   Uniform density: rho_m=80.0 veh/km, rho_c=100.0 veh/km\n"}
,{"stream_name":"stdout","time":138.862041723,"data":"2025-10-10 16:17:08 - INFO - _create_scenario_config:208 -   Uniform velocity: w_m=12.0 m/s, w_c=10.0 m/s\n"}
,{"stream_name":"stdout","time":138.862103815,"data":"  [SCENARIO] Generated: traffic_light_control.yml (1km domain, UNIFORM congestion IC)\n"}
,{"stream_name":"stdout","time":138.862116762,"data":"  Running baseline controller...\n"}
,{"stream_name":"stdout","time":138.86213767,"data":"  [QUICK TEST] Reduced duration to 600.0s (~10 control steps)\n"}
,{"stream_name":"stdout","time":138.862143167,"data":"  [INFO] Expected control steps: 11 (duration=600.0s, interval=60.0s)\n"}
,{"stream_name":"stdout","time":138.862228974,"data":"2025-10-10 16:17:08 - INFO - run_control_simulation:288 - ================================================================================\n"}
,{"stream_name":"stdout","time":138.862346377,"data":"2025-10-10 16:17:08 - INFO - run_control_simulation:289 - Starting run_control_simulation:\n"}
,{"stream_name":"stdout","time":138.862404955,"data":"2025-10-10 16:17:08 - INFO - run_control_simulation:290 -   - scenario_path: validation_output/results/local_test/section_7_6_rl_performance/data/scenarios/traffic_light_control.yml\n"}
,{"stream_name":"stdout","time":138.862529761,"data":"2025-10-10 16:17:08 - INFO - run_control_simulation:291 -   - duration: 600.0s\n"}
,{"stream_name":"stdout","time":138.862578935,"data":"2025-10-10 16:17:08 - INFO - run_control_simulation:292 -   - control_interval: 60.0s\n"}
,{"stream_name":"stdout","time":138.86266731,"data":"2025-10-10 16:17:08 - INFO - run_control_simulation:293 -   - device: gpu\n"}
,{"stream_name":"stdout","time":138.862744763,"data":"2025-10-10 16:17:08 - INFO - run_control_simulation:294 -   - controller: BaselineController\n"}
,{"stream_name":"stdout","time":138.862825023,"data":"2025-10-10 16:17:08 - INFO - run_control_simulation:295 -   - max_control_steps: 11\n"}
,{"stream_name":"stdout","time":138.862942876,"data":"2025-10-10 16:17:08 - INFO - run_control_simulation:296 - ================================================================================\n"}
,{"stream_name":"stdout","time":138.862957348,"data":"  [INFO] Initializing TrafficSignalEnvDirect with device=gpu\n"}
,{"stream_name":"stdout","time":138.863133192,"data":"2025-10-10 16:17:08 - INFO - run_control_simulation:301 - Creating TrafficSignalEnvDirect instance...\n"}
,{"stream_name":"stdout","time":138.863505782,"data":"Initializing simulation from scenario: validation_output/results/local_test/section_7_6_rl_performance/data/scenarios/traffic_light_control.yml\n"}
,{"stream_name":"stdout","time":138.863517958,"data":"Using device: gpu\n"}
,{"stream_name":"stdout","time":138.870520937,"data":"DEBUG PARAMS: Reading K_m_kmh = 10.0\n"}
,{"stream_name":"stdout","time":138.870551238,"data":"DEBUG PARAMS: Reading K_c_kmh = 15.0\n"}
,{"stream_name":"stdout","time":138.870557007,"data":"DEBUG PARAMS: Assigned self.K_m = 2.7777777777777777\n"}
,{"stream_name":"stdout","time":138.870561016,"data":"DEBUG PARAMS: Assigned self.K_c = 4.166666666666667\n"}
,{"stream_name":"stdout","time":138.870565119,"data":"Parameters loaded for scenario: rl_perf_traffic_light_control_sensitive\n"}
,{"stream_name":"stdout","time":138.870707615,"data":"Grid initialized: Grid1D(N=100, xmin=0.0, xmax=1000.0, dx=10.0000, ghost=2, N_total=104, R loaded=No)\n"}
,{"stream_name":"stdout","time":138.870715948,"data":"  Loading road quality type: uniform\n"}
,{"stream_name":"stdout","time":138.870720466,"data":"  Uniform road quality value: 2\n"}
,{"stream_name":"stdout","time":138.870724694,"data":"Road quality loaded.\n"}
,{"stream_name":"stdout","time":138.871637334,"data":"2025-10-10 16:17:08 - ERROR - run_control_simulation:321 - Failed to initialize TrafficSignalEnvDirect: could not convert string to float: 'rho_m_veh_m'\n"}
,{"stream_name":"stdout","time":138.871673852,"data":"Traceback (most recent call last):\n"}
,{"stream_name":"stdout","time":138.871679564,"data":"  File \"/kaggle/working/Code-traffic-flow/validation_ch7/scripts/test_section_7_6_rl_performance.py\", line 308, in run_control_simulation\n"}
,{"stream_name":"stdout","time":138.871689066,"data":"    env = TrafficSignalEnvDirect(\n"}
,{"stream_name":"stdout","time":138.871692944,"data":"          ^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.871696534,"data":"  File \"/kaggle/working/Code-traffic-flow/Code_RL/src/env/traffic_signal_env_direct.py\", line 141, in __init__\n"}
,{"stream_name":"stdout","time":138.871700376,"data":"    self._initialize_simulator()\n"}
,{"stream_name":"stdout","time":138.871704256,"data":"  File \"/kaggle/working/Code-traffic-flow/Code_RL/src/env/traffic_signal_env_direct.py\", line 158, in _initialize_simulator\n"}
,{"stream_name":"stdout","time":138.87170989,"data":"    self.runner = SimulationRunner(\n"}
,{"stream_name":"stdout","time":138.871713182,"data":"                  ^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.871715668,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/runner.py\", line 97, in __init__\n"}
,{"stream_name":"stdout","time":138.871718244,"data":"    self.U = self._create_initial_state()\n"}
,{"stream_name":"stdout","time":138.871720639,"data":"             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.871743483,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/runner.py\", line 283, in _create_initial_state\n"}
,{"stream_name":"stdout","time":138.871746254,"data":"    U_init = initial_conditions.uniform_state(self.grid, *state_vals)\n"}
,{"stream_name":"stdout","time":138.871748967,"data":"             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.871751515,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/initial_conditions.py\", line 22, in uniform_state\n"}
,{"stream_name":"stdout","time":138.871754325,"data":"    U_initial[0, :] = rho_m_val\n"}
,{"stream_name":"stdout","time":138.871756801,"data":"    ~~~~~~~~~^^^^^^\n"}
,{"stream_name":"stdout","time":138.871759537,"data":"ValueError: could not convert string to float: 'rho_m_veh_m'\n"}
,{"stream_name":"stdout","time":138.871762272,"data":"  [ERROR] Failed to initialize TrafficSignalEnvDirect: could not convert string to float: 'rho_m_veh_m'\n"}
,{"stream_name":"stdout","time":138.872701614,"data":"2025-10-10 16:17:08 - ERROR - run_performance_comparison:828 - Performance comparison failed for traffic_light_control: cannot access local variable 'traceback' where it is not associated with a value\n"}
,{"stream_name":"stdout","time":138.872713617,"data":"Traceback (most recent call last):\n"}
,{"stream_name":"stdout","time":138.872717952,"data":"  File \"/kaggle/working/Code-traffic-flow/validation_ch7/scripts/test_section_7_6_rl_performance.py\", line 308, in run_control_simulation\n"}
,{"stream_name":"stdout","time":138.872722453,"data":"    env = TrafficSignalEnvDirect(\n"}
,{"stream_name":"stdout","time":138.87272638,"data":"          ^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.872730498,"data":"  File \"/kaggle/working/Code-traffic-flow/Code_RL/src/env/traffic_signal_env_direct.py\", line 141, in __init__\n"}
,{"stream_name":"stdout","time":138.87273529,"data":"    self._initialize_simulator()\n"}
,{"stream_name":"stdout","time":138.872739685,"data":"  File \"/kaggle/working/Code-traffic-flow/Code_RL/src/env/traffic_signal_env_direct.py\", line 158, in _initialize_simulator\n"}
,{"stream_name":"stdout","time":138.872753095,"data":"    self.runner = SimulationRunner(\n"}
,{"stream_name":"stdout","time":138.872757236,"data":"                  ^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.872760883,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/runner.py\", line 97, in __init__\n"}
,{"stream_name":"stdout","time":138.87276494,"data":"    self.U = self._create_initial_state()\n"}
,{"stream_name":"stdout","time":138.872768675,"data":"             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.872774038,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/runner.py\", line 283, in _create_initial_state\n"}
,{"stream_name":"stdout","time":138.872777469,"data":"    U_init = initial_conditions.uniform_state(self.grid, *state_vals)\n"}
,{"stream_name":"stdout","time":138.872779988,"data":"             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.872782396,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/initial_conditions.py\", line 22, in uniform_state\n"}
,{"stream_name":"stdout","time":138.872784977,"data":"    U_initial[0, :] = rho_m_val\n"}
,{"stream_name":"stdout","time":138.872787313,"data":"    ~~~~~~~~~^^^^^^\n"}
,{"stream_name":"stdout","time":138.872789631,"data":"ValueError: could not convert string to float: 'rho_m_veh_m'\n"}
,{"stream_name":"stdout","time":138.87279203,"data":"\n"}
,{"stream_name":"stdout","time":138.872794319,"data":"During handling of the above exception, another exception occurred:\n"}
,{"stream_name":"stdout","time":138.872796818,"data":"\n"}
,{"stream_name":"stdout","time":138.872799085,"data":"Traceback (most recent call last):\n"}
,{"stream_name":"stdout","time":138.872801688,"data":"  File \"/kaggle/working/Code-traffic-flow/validation_ch7/scripts/test_section_7_6_rl_performance.py\", line 717, in run_performance_comparison\n"}
,{"stream_name":"stdout","time":138.872804418,"data":"    baseline_states, _ = self.run_control_simulation(\n"}
,{"stream_name":"stdout","time":138.872806865,"data":"                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.872809298,"data":"  File \"/kaggle/working/Code-traffic-flow/validation_ch7/scripts/test_section_7_6_rl_performance.py\", line 323, in run_control_simulation\n"}
,{"stream_name":"stdout","time":138.872811932,"data":"    traceback.print_exc()\n"}
,{"stream_name":"stdout","time":138.872814389,"data":"    ^^^^^^^^^\n"}
,{"stream_name":"stdout","time":138.87281746,"data":"UnboundLocalError: cannot access local variable 'traceback' where it is not associated with a value\n"}
,{"stream_name":"stderr","time":138.873348774,"data":"Traceback (most recent call last):\n"}
,{"stream_name":"stderr","time":138.873538615,"data":"  File \"/kaggle/working/Code-traffic-flow/validation_ch7/scripts/test_section_7_6_rl_performance.py\", line 308, in run_control_simulation\n"}
,{"stream_name":"stderr","time":138.87354682,"data":"    env = TrafficSignalEnvDirect(\n"}
,{"stream_name":"stderr","time":138.873551064,"data":"          ^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stderr","time":138.873555389,"data":"  File \"/kaggle/working/Code-traffic-flow/Code_RL/src/env/traffic_signal_env_direct.py\", line 141, in __init__\n"}
,{"stream_name":"stderr","time":138.873560155,"data":"    self._initialize_simulator()\n"}
,{"stream_name":"stderr","time":138.873564255,"data":"  File \"/kaggle/working/Code-traffic-flow/Code_RL/src/env/traffic_signal_env_direct.py\", line 158, in _initialize_simulator\n"}
,{"stream_name":"stderr","time":138.87356869,"data":"    self.runner = SimulationRunner(\n"}
,{"stream_name":"stderr","time":138.87358059,"data":"                  ^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stderr","time":138.873584536,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/runner.py\", line 97, in __init__\n"}
,{"stream_name":"stderr","time":138.873599692,"data":"    self.U = self._create_initial_state()\n"}
,{"stream_name":"stderr","time":138.873604249,"data":"             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stderr","time":138.87360861,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/runner.py\", line 283, in _create_initial_state\n"}
,{"stream_name":"stderr","time":138.873613452,"data":"    U_init = initial_conditions.uniform_state(self.grid, *state_vals)\n"}
,{"stream_name":"stderr","time":138.873617299,"data":"             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stderr","time":138.87362104,"data":"  File \"/kaggle/working/Code-traffic-flow/arz_model/simulation/initial_conditions.py\", line 22, in uniform_state\n"}
,{"stream_name":"stderr","time":138.873624867,"data":"    U_initial[0, :] = rho_m_val\n"}
,{"stream_name":"stderr","time":138.873628549,"data":"    ~~~~~~~~~^^^^^^\n"}
,{"stream_name":"stderr","time":138.873633986,"data":"ValueError: could not convert string to float: 'rho_m_veh_m'\n"}
,{"stream_name":"stderr","time":138.87363794,"data":"\n"}
,{"stream_name":"stderr","time":138.873641312,"data":"During handling of the above exception, another exception occurred:\n"}
,{"stream_name":"stderr","time":138.873646643,"data":"\n"}
,{"stream_name":"stderr","time":138.873650275,"data":"Traceback (most recent call last):\n"}
,{"stream_name":"stderr","time":138.873701994,"data":"  File \"/kaggle/working/Code-traffic-flow/validation_ch7/scripts/test_section_7_6_rl_performance.py\", line 717, in run_performance_comparison\n"}
,{"stream_name":"stderr","time":138.873708437,"data":"    baseline_states, _ = self.run_control_simulation(\n"}
,{"stream_name":"stderr","time":138.8737132,"data":"                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n"}
,{"stream_name":"stderr","time":138.873718499,"data":"  File \"/kaggle/working/Code-traffic-flow/validation_ch7/scripts/test_section_7_6_rl_performance.py\", line 323, in run_control_simulation\n"}
,{"stream_name":"stderr","time":138.873723913,"data":"    traceback.print_exc()\n"}
,{"stream_name":"stderr","time":138.873728028,"data":"    ^^^^^^^^^\n"}
,{"stream_name":"stderr","time":138.873731769,"data":"UnboundLocalError: cannot access local variable 'traceback' where it is not associated with a value\n"}
,{"stream_name":"stdout","time":138.873727672,"data":"  ERROR: cannot access local variable 'traceback' where it is not associated with a value\n"}
,{"stream_name":"stdout","time":138.873771087,"data":"\n"}
,{"stream_name":"stdout","time":138.873776424,"data":"[FIGURES] Generating RL performance figures...\n"}
,{"stream_name":"stdout","time":139.503973716,"data":"  [OK] fig_rl_performance_improvements.png\n"}
,{"stream_name":"stdout","time":140.079000665,"data":"  [OK] fig_rl_learning_curve.png\n"}
,{"stream_name":"stdout","time":140.079036773,"data":"[FIGURES] Generated 2 figures in validation_output/results/local_test/section_7_6_rl_performance/figures\n"}
,{"stream_name":"stdout","time":140.079042713,"data":"\n"}
,{"stream_name":"stdout","time":140.079048163,"data":"[METRICS] Saving RL performance metrics...\n"}
,{"stream_name":"stdout","time":140.085991248,"data":"  [OK] validation_output/results/local_test/section_7_6_rl_performance/data/metrics/rl_performance_comparison.csv\n"}
,{"stream_name":"stdout","time":140.086017063,"data":"\n"}
,{"stream_name":"stdout","time":140.08602164,"data":"[LATEX] Generating content for Section 7.6...\n"}
,{"stream_name":"stdout","time":140.086169333,"data":"  [OK] validation_output/results/local_test/section_7_6_rl_performance/latex/section_7_6_content.tex\n"}
,{"stream_name":"stdout","time":140.086176817,"data":"\n"}
,{"stream_name":"stdout","time":140.08618085,"data":"=== RL Performance Validation Summary ===\n"}
,{"stream_name":"stdout","time":140.086184984,"data":"Scenarios passed: 0/1 (0.0%)\n"}
,{"stream_name":"stdout","time":140.086189134,"data":"Average flow improvement: 0.00%\n"}
,{"stream_name":"stdout","time":140.086193278,"data":"Average efficiency improvement: 0.00%\n"}
,{"stream_name":"stdout","time":140.086197391,"data":"Average delay reduction: 0.00%\n"}
,{"stream_name":"stdout","time":140.086274399,"data":"Overall validation: FAILED\n"}
,{"stream_name":"stdout","time":140.087273505,"data":"[SUMMARY] Created: validation_output/results/local_test/section_7_6_rl_performance/session_summary.json\n"}
,{"stream_name":"stdout","time":142.620070016,"data":"[WARNING] Tests returned code: 1\n"}
,{"stream_name":"stdout","time":142.62027951,"data":"\n"}
,{"stream_name":"stdout","time":142.620302937,"data":"[STEP 4/4] Copying artifacts and cleaning up...\n"}
,{"stream_name":"stdout","time":142.620351276,"data":"[ARTIFACTS] Copying results for section_7_6_rl_performance...\n"}
,{"stream_name":"stdout","time":142.62358502,"data":"[OK] Section copied to: /kaggle/working/section_7_6_rl_performance\n"}
,{"stream_name":"stdout","time":142.624403912,"data":"[ARTIFACTS] NPZ files: 0\n"}
,{"stream_name":"stdout","time":142.624434542,"data":"[ARTIFACTS] PNG figures: 2\n"}
,{"stream_name":"stdout","time":142.624608668,"data":"[ARTIFACTS] YAML scenarios: 1\n"}
,{"stream_name":"stdout","time":142.624624198,"data":"[ARTIFACTS] TEX files: 1\n"}
,{"stream_name":"stdout","time":142.6247288,"data":"[ARTIFACTS] JSON files: 1\n"}
,{"stream_name":"stdout","time":142.624794524,"data":"[ARTIFACTS] CSV metrics: 1\n"}
,{"stream_name":"stdout","time":142.624861807,"data":"TRACKING_SUCCESS: Artifacts copied\n"}
,{"stream_name":"stdout","time":142.624959033,"data":"[SUCCESS] All artifacts organized and copied\n"}
,{"stream_name":"stdout","time":142.62510689,"data":"[CLEANUP] Removing cloned repository: /kaggle/working/Code-traffic-flow\n"}
,{"stream_name":"stdout","time":142.67422584,"data":"[OK] Cleanup completed - only validation results remain\n"}
,{"stream_name":"stdout","time":142.674251576,"data":"TRACKING_SUCCESS: Cleanup completed\n"}
,{"stream_name":"stdout","time":142.674640165,"data":"[OK] Session summary created: /kaggle/working/validation_results/session_summary.json\n"}
,{"stream_name":"stdout","time":142.674662708,"data":"TRACKING_SUCCESS: Session summary created\n"}
,{"stream_name":"stdout","time":142.674775316,"data":"\n"}
,{"stream_name":"stdout","time":142.674783435,"data":"[FINAL] Validation workflow completed\n"}
,{"stream_name":"stdout","time":142.674817137,"data":"Remote logging finalized - ready for download\n"}
,{"stream_name":"stdout","time":142.674967278,"data":"\n"}
,{"stream_name":"stdout","time":142.674979498,"data":"================================================================================\n"}
,{"stream_name":"stdout","time":142.674983285,"data":"VALIDATION SECTION_7_6_RL_PERFORMANCE COMPLETED\n"}
,{"stream_name":"stdout","time":142.674987215,"data":"Output ready at: /kaggle/working/validation_results/\n"}
,{"stream_name":"stdout","time":142.674990919,"data":"================================================================================\n"}
,{"stream_name":"stderr","time":146.877238238,"data":"/usr/local/lib/python3.11/dist-packages/traitlets/traitlets.py:2915: FutureWarning: --Exporter.preprocessors=[\"nbconvert.preprocessors.ExtractOutputPreprocessor\"] for containers is deprecated in traitlets 5.0. You can pass `--Exporter.preprocessors item` ... multiple times to add items to a list.\n"}
,{"stream_name":"stderr","time":146.877300666,"data":"  warn(\n"}
,{"stream_name":"stderr","time":146.943325978,"data":"[NbConvertApp] Converting notebook __script__.ipynb to html\n"}
,{"stream_name":"stderr","time":147.825719318,"data":"[NbConvertApp] Writing 321270 bytes to __results__.html\n"}
]
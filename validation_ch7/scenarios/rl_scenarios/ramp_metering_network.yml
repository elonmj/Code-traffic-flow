metadata:
  name: Highway with On-Ramp Metering
  description: RL ramp metering control scenario
  created_by: RLNetworkConfigAdapter
  scenario_type: ramp_metering
network:
  segments:
    mainline_upstream:
      x_min: 0.0
      x_max: 300.0
      N: 30
      start_node: inflow_mainline
      end_node: ramp_junction
      parameters:
        road_quality: 1
        vmax_m_kmh: 85.0
        vmax_c_kmh: 75.0
    on_ramp:
      x_min: 100.0
      x_max: 300.0
      N: 20
      start_node: inflow_ramp
      end_node: ramp_junction
      parameters:
        road_quality: 2
        vmax_m_kmh: 70.0
        vmax_c_kmh: 60.0
    mainline_downstream:
      x_min: 300.0
      x_max: 1000.0
      N: 70
      start_node: ramp_junction
      end_node: outflow
      parameters:
        road_quality: 1
        vmax_m_kmh: 85.0
        vmax_c_kmh: 75.0
  nodes:
    inflow_mainline:
      type: boundary
      position:
      - 0.0
      - 0.0
      boundary_type: inflow
      outgoing_segments:
      - mainline_upstream
    inflow_ramp:
      type: boundary
      position:
      - 100.0
      - -100.0
      boundary_type: inflow
      outgoing_segments:
      - on_ramp
    ramp_junction:
      type: signalized
      position:
      - 300.0
      - 0.0
      incoming_segments:
      - mainline_upstream
      - on_ramp
      outgoing_segments:
      - mainline_downstream
      signal_id: ramp_meter_1
    outflow:
      type: boundary
      position:
      - 1000.0
      - 0.0
      boundary_type: outflow
      incoming_segments:
      - mainline_downstream
  links:
  - from_segment: mainline_upstream
    to_segment: mainline_downstream
    via_node: ramp_junction
    coupling_type: priority
    theta_m: 0.9
    theta_c: 0.9
  - from_segment: on_ramp
    to_segment: mainline_downstream
    via_node: ramp_junction
    coupling_type: metered
    theta_m: 0.1
    theta_c: 0.1
simulation:
  t_final_sec: 3600.0
  output_dt_sec: 15.0
  output_dir: results
initial_conditions:
  type: uniform
  rho_m_veh_km: 80.0
  rho_c_veh_km: 40.0
